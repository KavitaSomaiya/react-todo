(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{128:function(e,t,n){e.exports=n(304)},303:function(e,t,n){},304:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(12),i=n.n(r),s=n(13),o=n(14),c=n(16),u=n(15),p=n(17),m=(n(55),n(11)),h=n.n(m),d=n(20),f=n.n(d),g=n(35),v=n.n(g),E=n(26),b=n.n(E),y=(n(253),n(37)),C=n.n(y),k=n(76),w=n.n(k),S=n(77),x=n.n(S),O=n(36),j=n.n(O),P=n(25),T=n(127),L=n(121),N={margin:15},B=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={role:"user",filesPreview:[],filesToBeSent:[],draweropen:!1,printcount:10,printingmessage:"",printButtonDisabled:!1},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e;this.props.role&&"user"==this.props.role&&(e=5),this.setState({printcount:e,role:this.props.role})}},{key:"handleCloseClick",value:function(e,t){var n=this,a=this.state.filesToBeSent;a.splice(t,1);var r=[];for(var i in a)r.push(l.a.createElement("div",null,a[i][0].name,l.a.createElement(h.a,null,l.a.createElement("a",{href:"#"},l.a.createElement(j.a,{className:"material-icons customstyle",color:P.blue500,onClick:function(e){return n.handleCloseClick(e,i)}},"clear")))));this.setState({filesToBeSent:a,filesPreview:r})}},{key:"onDrop",value:function(e,t){var n=this,a=this.state.filesToBeSent;if(a.length<this.state.printcount){a.push(e);var r=[];for(var i in a)r.push(l.a.createElement("div",null,a[i][0].name,l.a.createElement(h.a,null,l.a.createElement("a",{href:"#"},l.a.createElement(j.a,{className:"material-icons customstyle",color:P.blue500,styles:{top:10},onClick:function(e){return n.handleCloseClick(e,i)}},"clear")))));this.setState({filesToBeSent:a,filesPreview:r})}else alert("You have reached the limit of printing files at a time")}},{key:"handleClick",value:function(e){this.setState({printingmessage:"Please wait until your files are being printed",printButtonDisabled:!0});var t=this;if(this.state.filesToBeSent.length>0){var n=this.state.filesToBeSent,a=L.post("http://localhost:4000/api/fileprint");for(var l in n)a.attach(n[l][0].name,n[l][0]);a.end((function(e,n){e&&console.log("error ocurred"),console.log("res",n),t.setState({printingmessage:"",printButtonDisabled:!1,filesToBeSent:[],filesPreview:[]}),alert("File printing completed")}))}else alert("Please upload some files first")}},{key:"toggleDrawer",value:function(e){this.setState({draweropen:!this.state.draweropen})}},{key:"handleDivClick",value:function(e){this.state.draweropen&&this.setState({draweropen:!1})}},{key:"handleLogout",value:function(e){var t=[];t.push(l.a.createElement(V,{appContext:this.props.appContext})),this.props.appContext.setState({loginPage:t,uploadScreen:[]})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{onClick:function(t){return e.handleDivClick(t)}},l.a.createElement("center",null,l.a.createElement("div",null,"You can print upto ",this.state.printcount," files at a time since you are ",this.state.role),l.a.createElement(T.a,{onDrop:function(t){return e.onDrop(t)}},l.a.createElement("div",null,"Try dropping some files here, or click to select files to upload.")),l.a.createElement("div",null,"Files to be printed are:",this.state.filesPreview)),l.a.createElement("div",null,this.state.printingmessage),l.a.createElement(h.a,null,l.a.createElement(f.a,{disabled:this.state.printButtonDisabled,label:"Print Files",primary:!0,style:N,onClick:function(t){return e.handleClick(t)}}))))}}]),t}(a.Component),D=n(78),I=n(75),F=n.n(I),R=n(124),_=n.n(R),U=(n(297),n(125)),J=n.n(U),W=(n(298),n(126)),M=n.n(W),A=n(121),G={margin:15},Y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={filesPreview:[],previousfilesList:[],filesToBePrinted:[]},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.get("http://localhost:4000/api/fileretrieve").end((function(t,n){if(t)console.log("some error ");else if("200"==n.body.code){var a=n.body.result,r=[];for(var i in a)r.push(l.a.createElement(D.ListItem,{rightAvatar:l.a.createElement(_.a,{icon:l.a.createElement(J.a,null),backgroundColor:P.blue500}),primaryText:a[i].name,leftCheckbox:l.a.createElement(M.a,{value:a[i].name,onCheck:function(t,n){return e.handleFileCheck(t,n)}})}));var s=[];s.push(l.a.createElement("div",{className:"previousfilesContainer"},l.a.createElement(h.a,null,l.a.createElement(D.List,null,l.a.createElement(F.a,{inset:!0},"Files"),r)),l.a.createElement(h.a,null,l.a.createElement(f.a,{disabled:e.state.printButtonDisabled,label:"Print Files",primary:!0,style:G,onClick:function(t){return e.handlePreviousFilesClick(t)}})))),e.setState({filesPreview:s,previousfilesList:n.body.result})}}))}},{key:"handleFileCheck",value:function(e,t){var n=this.state.filesToBePrinted;if(t)n.push({name:e.target.value});else for(var a in n)n[a].name==e.target.value&&n.splice(a,1);console.log("somename",JSON.stringify(n)),this.setState({filesToBePrinted:n})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},this.state.filesPreview)}}]),t}(a.Component),q=(a.Component,{margin:15}),H=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){console.log("willmount prop values",n.props),console.log("in user componentWillMount");var e=[];e.push(l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(b.a,{hintText:"Enter your User Id",floatingLabelText:"User Id",onChange:function(e,t){return n.setState({userId:t})}}),l.a.createElement("br",null),l.a.createElement(b.a,{type:"password",hintText:"Enter your password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),l.a.createElement("br",null),l.a.createElement(f.a,{label:"Submit",primary:!0,style:q,onClick:function(e){return n.handleClick(e)}})))),n.setState({loginComponent:e})},n.handleClick=function(e){var t={userName:n.state.userId,password:n.state.password},a=new Headers;a.append("Content-Type","application/json"),fetch("http://localhost:7000/users/login",{method:"POST",headers:a,mode:"cors",cache:"default",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){window.localStorage.setItem("userDetail",JSON.stringify(e));var t=JSON.parse(window.localStorage.getItem("userDetail"));fetch("http://localhost:7000/users/".concat(t._id)).then((function(e){200===e.status?e.json().then((function(e){var t=e;t?(window.localStorage.setItem("curData",JSON.stringify(t)),window.location.href="index.html"):window.location.href="index.html"})):alert("Username/Password invalid || Error loading Records.")}))})).catch((function(e){console.log(e),window.alert("Username/Password invalid")}))},n.state={userId:"",password:"",loginComponent:a};var a=[];return a.push(l.a.createElement(h.a,{key:"theme"},l.a.createElement("div",null,l.a.createElement(b.a,{hintText:"Enter your user Id",floatingLabelText:"User Id",onChange:function(e,t){return n.setState({userId:t})}}),l.a.createElement("br",null),l.a.createElement(b.a,{type:"password",hintText:"Enter your password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),l.a.createElement("br",null),l.a.createElement(f.a,{label:"Submit",primary:!0,style:q,onClick:function(e){return n.handleClick(e)}})))),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"render",value:function(){return console.log("props",this.props),l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement(v.a,{title:"Login"})),this.state.loginComponent)}}]),t}(a.Component),z={margin:15},K=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){var t={method:"post",url:"http://localhost:7000/users",data:""};n.state.first_name.length>0&&n.state.last_name.length>0&&n.state.email.length>0&&n.state.password.length>0?(t.data={firstName:n.state.first_name,lastName:n.state.last_name,userName:n.state.email,password:n.state.password},w()(t).then((function(e){if(window.alert("User register successfully...!!!"),console.log(e),200===e.data.code){var t=[];t.push(l.a.createElement(H,{parentContext:this,appContext:this.props.appContext}));this.props.parentContext.setState({loginscreen:t,loginmessage:"Not Registered yet.Go to registration",buttonLabel:"Register",isLogin:!0})}else console.log("some error ocurred",e.data.code)})).catch((function(e){console.log(e)}))):alert("Input field value is missing")},n.state={first_name:"",last_name:"",email:"",password:""},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"render",value:function(){var e=this;return console.log("props",this.props),l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(v.a,{title:"Register"}),l.a.createElement(b.a,{hintText:"Enter your First Name",floatingLabelText:"First Name",onChange:function(t,n){return e.setState({first_name:n})}}),l.a.createElement("br",null),l.a.createElement(b.a,{hintText:"Enter your Last Name",floatingLabelText:"Last Name",onChange:function(t,n){return e.setState({last_name:n})}}),l.a.createElement("br",null),l.a.createElement(b.a,{hintText:"Enter your User Id",floatingLabelText:"User Id",onChange:function(t,n){return e.setState({email:n})}}),l.a.createElement("br",null),l.a.createElement(b.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(t,n){return e.setState({password:n})}}),l.a.createElement("br",null),l.a.createElement(f.a,{label:"Submit",primary:!0,style:z,onClick:function(t){return e.handleClick(t,e.props.role)}}))))}}]),t}(a.Component),Q={margin:15},V=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=[];return a.push(l.a.createElement("div",{key:"Login-Div"},l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(f.a,{label:"Register",primary:!0,style:Q,onClick:function(e){return n.handleClick(e)}}))))),n.state={username:"",password:"",loginscreen:[],loginmessage:"",loginButtons:a,isLogin:!0},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=[];e.push(l.a.createElement(H,{parentContext:this,appContext:this.props.appContext,key:"Loginscreen"}));this.setState({loginscreen:e,loginmessage:"Not registered yet, Register Now"})}},{key:"handleClick",value:function(e){var t,n=this;if(console.log("event"),this.state.isLogin){var a=[];a.push(l.a.createElement(K,{parentContext:this,appContext:this.props.appContext})),t="Already registered. Go to Login";var r=[];r.push(l.a.createElement("div",{key:"login-button"},l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(f.a,{label:"Login",primary:!0,style:Q,onClick:function(e){return n.handleClick(e)}}))))),this.setState({loginscreen:a,loginmessage:t,loginButtons:r,isLogin:!1})}else{var i=[],s=[];s.push(l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(f.a,{label:"Register",primary:!0,style:Q,onClick:function(e){return n.handleClick(e)}}))))),i.push(l.a.createElement(H,{parentContext:this,appContext:this.props.appContext})),t="Not registered yet. Go to Registration",this.setState({loginscreen:i,loginmessage:t,loginButtons:s,isLogin:!0})}}},{key:"render",value:function(){return l.a.createElement("div",{className:"loginscreen",key:"loginscreen"},this.state.loginscreen,l.a.createElement("div",null,this.state.loginmessage,this.state.loginButtons))}}]),t}(a.Component),X=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loginPage:[],uploadScreen:[]},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=[];e.push(l.a.createElement(V,{appContext:this,key:"login-screen"})),this.setState({loginPage:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},this.state.loginPage,this.state.uploadScreen)}}]),t}(a.Component);n(303);i.a.render(l.a.createElement(X,null),document.querySelector("#root"))},55:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.10e41a1c.chunk.js.map