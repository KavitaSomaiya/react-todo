(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{110:function(e,t,n){},133:function(e,t,n){e.exports=n(316)},315:function(e,t,n){},316:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(12),i=n.n(l),s=n(13),o=n(14),c=n(16),u=n(15),m=n(17),p=(n(56),n(10)),h=n.n(p),d=n(18),f=n.n(d),g=n(1),v=n.n(g),E=n(37),b=n(27),y=n.n(b),k=n(21),C=n.n(k),w=(n(110),n(125)),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).delete=function(e){n.props.delete(e)},n.createTasks=n.createTasks.bind(Object(E.a)(n)),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createTasks",value:function(e){var t=this;return r.a.createElement("li",{onClick:function(){return t.delete(e.key)},key:e.key},e.text)}},{key:"render",value:function(){var e=this.props.entries.map(this.createTasks);return r.a.createElement("ul",{className:"theList"},r.a.createElement(w.a,{duration:250,easing:"ease-out"},e))}}]),t}(a.Component),O=n(126),j=n.n(O)()(),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).addItem=function(e){if(""!==n._inputElement.value){var t={text:n._inputElement.value,key:Date.now()};n.setState((function(e){return{items:e.items.concat(t)}})),n._inputElement.value=""}console.log(n.state.items),e.preventDefault()},n.deleteItem=function(e){var t=n.state.items.filter((function(t){return t.key!==e}));n.setState({items:t})},n.state={items:[]},n.addItem=n.addItem.bind(Object(E.a)(n)),n.deleteItem=n.deleteItem.bind(Object(E.a)(n)),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"todoListMain"},r.a.createElement("div",{className:"header"},r.a.createElement("form",{onSubmit:this.addItem},r.a.createElement("input",{ref:function(t){return e._inputElement=t},placeholder:"enter task"}),r.a.createElement("button",{type:"submit"},"Add"))),r.a.createElement(S,{entries:this.state.items,delete:this.deleteItem}))}}]),t}(a.Component),T=(n(265),n(38)),P=n.n(T),L=n(77),N=n.n(L),I=n(78),D=n.n(I),B=n(36),_=n.n(B),R=n(26),F=n(131),U=n(123),J={margin:15},M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={role:"user",filesPreview:[],filesToBeSent:[],draweropen:!1,printcount:10,printingmessage:"",printButtonDisabled:!1},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e;this.props.role&&"user"==this.props.role&&(e=5),this.setState({printcount:e,role:this.props.role})}},{key:"handleCloseClick",value:function(e,t){var n=this,a=this.state.filesToBeSent;a.splice(t,1);var l=[];for(var i in a)l.push(r.a.createElement("div",null,a[i][0].name,r.a.createElement(h.a,null,r.a.createElement("a",{href:"#"},r.a.createElement(_.a,{className:"material-icons customstyle",color:R.blue500,onClick:function(e){return n.handleCloseClick(e,i)}},"clear")))));this.setState({filesToBeSent:a,filesPreview:l})}},{key:"onDrop",value:function(e,t){var n=this,a=this.state.filesToBeSent;if(a.length<this.state.printcount){a.push(e);var l=[];for(var i in a)l.push(r.a.createElement("div",null,a[i][0].name,r.a.createElement(h.a,null,r.a.createElement("a",{href:"#"},r.a.createElement(_.a,{className:"material-icons customstyle",color:R.blue500,styles:{top:10},onClick:function(e){return n.handleCloseClick(e,i)}},"clear")))));this.setState({filesToBeSent:a,filesPreview:l})}else alert("You have reached the limit of printing files at a time")}},{key:"handleClick",value:function(e){this.setState({printingmessage:"Please wait until your files are being printed",printButtonDisabled:!0});var t=this;if(this.state.filesToBeSent.length>0){var n=this.state.filesToBeSent,a=U.post("http://localhost:4000/api/fileprint");for(var r in n)a.attach(n[r][0].name,n[r][0]);a.end((function(e,n){e&&console.log("error ocurred"),console.log("res",n),t.setState({printingmessage:"",printButtonDisabled:!1,filesToBeSent:[],filesPreview:[]}),alert("File printing completed")}))}else alert("Please upload some files first")}},{key:"toggleDrawer",value:function(e){this.setState({draweropen:!this.state.draweropen})}},{key:"handleDivClick",value:function(e){this.state.draweropen&&this.setState({draweropen:!1})}},{key:"handleLogout",value:function(e){var t=[];t.push(r.a.createElement(re,{appContext:this.props.appContext})),this.props.appContext.setState({loginPage:t,uploadScreen:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{onClick:function(t){return e.handleDivClick(t)}},r.a.createElement("center",null,r.a.createElement("div",null,"You can print upto ",this.state.printcount," files at a time since you are ",this.state.role),r.a.createElement(F.a,{onDrop:function(t){return e.onDrop(t)}},r.a.createElement("div",null,"Try dropping some files here, or click to select files to upload.")),r.a.createElement("div",null,"Files to be printed are:",this.state.filesPreview)),r.a.createElement("div",null,this.state.printingmessage),r.a.createElement(h.a,null,r.a.createElement(f.a,{disabled:this.state.printButtonDisabled,label:"Print Files",primary:!0,style:J,onClick:function(t){return e.handleClick(t)}}))))}}]),t}(a.Component),W=n(79),A=n(76),G=n.n(A),q=n(128),Y=n.n(q),H=(n(309),n(129)),z=n.n(H),K=(n(310),n(130)),Q=n.n(K),V=n(123),X={margin:15},Z=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={filesPreview:[],previousfilesList:[],filesToBePrinted:[]},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.get("http://localhost:4000/api/fileretrieve").end((function(t,n){if(t)console.log("some error ");else if("200"==n.body.code){var a=n.body.result,l=[];for(var i in a)l.push(r.a.createElement(W.ListItem,{rightAvatar:r.a.createElement(Y.a,{icon:r.a.createElement(z.a,null),backgroundColor:R.blue500}),primaryText:a[i].name,leftCheckbox:r.a.createElement(Q.a,{value:a[i].name,onCheck:function(t,n){return e.handleFileCheck(t,n)}})}));var s=[];s.push(r.a.createElement("div",{className:"previousfilesContainer"},r.a.createElement(h.a,null,r.a.createElement(W.List,null,r.a.createElement(G.a,{inset:!0},"Files"),l)),r.a.createElement(h.a,null,r.a.createElement(f.a,{disabled:e.state.printButtonDisabled,label:"Print Files",primary:!0,style:X,onClick:function(t){return e.handlePreviousFilesClick(t)}})))),e.setState({filesPreview:s,previousfilesList:n.body.result})}}))}},{key:"handleFileCheck",value:function(e,t){var n=this.state.filesToBePrinted;if(t)n.push({name:e.target.value});else for(var a in n)n[a].name==e.target.value&&n.splice(a,1);console.log("somename",JSON.stringify(n)),this.setState({filesToBePrinted:n})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.filesPreview)}}]),t}(a.Component),$=(a.Component,{margin:15}),ee=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){console.log("willmount prop values",n.props),console.log("in user componentWillMount");var e=[];e.push(r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(C.a,{hintText:"Enter your User Id",floatingLabelText:"User Id",onChange:function(e,t){return n.setState({userId:t})}}),r.a.createElement("br",null),r.a.createElement(C.a,{type:"password",hintText:"Enter your password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"Submit",primary:!0,style:$,onClick:function(e){return n.handleClick(e)}})))),n.setState({loginComponent:e})},n.handleClick=function(e){e.preventDefault();var t={userName:n.state.userId,password:n.state.password},a=new Headers;a.append("Content-Type","application/json"),fetch("http://localhost:7000/users/login",{method:"POST",headers:a,mode:"cors",cache:"default",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){window.localStorage.setItem("userDetail",JSON.stringify(e));var t=JSON.parse(window.localStorage.getItem("userDetail"));fetch("http://localhost:7000/users/".concat(t._id)).then((function(e){200===e.status?e.json().then((function(e){var t=e;t?(window.localStorage.setItem("curData",JSON.stringify(t)),0!==t.length&&j.push("/ToDoList")):window.location.href="index.html"})):alert("Username/Password invalid || Error loading Records.")}))})).catch((function(e){console.log(e),window.alert("Username/Password invalid")}))},n.state={userId:"",password:"",loginComponent:a};var a=[];return a.push(r.a.createElement(h.a,{key:"theme"},r.a.createElement("div",null,r.a.createElement(C.a,{hintText:"Enter your user Id",floatingLabelText:"User Id",onChange:function(e,t){return n.setState({userId:t})}}),r.a.createElement("br",null),r.a.createElement(C.a,{type:"password",hintText:"Enter your password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"Submit",primary:!0,style:$,onClick:function(e){return n.handleClick(e)}})))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"render",value:function(){return console.log("props",this.props),r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(y.a,{title:"Login"})),this.state.loginComponent)}}]),t}(a.Component);ee.contextTypes={router:v.a.object};var te={margin:15},ne=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){var t={method:"post",url:"http://localhost:7000/users",data:""};n.state.first_name.length>0&&n.state.last_name.length>0&&n.state.email.length>0&&n.state.password.length>0?(t.data={firstName:n.state.first_name,lastName:n.state.last_name,userName:n.state.email,password:n.state.password},N()(t).then((function(e){if(window.alert("User register successfully...!!!"),console.log(e),200===e.data.code){var t=[];t.push(r.a.createElement(ee,{parentContext:this,appContext:this.props.appContext}));this.props.parentContext.setState({loginscreen:t,loginmessage:"Not Registered yet.Go to registration",buttonLabel:"Register",isLogin:!0})}else console.log("some error ocurred",e.data.code)})).catch((function(e){console.log(e)}))):alert("Input field value is missing")},n.state={first_name:"",last_name:"",email:"",password:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"render",value:function(){var e=this;return console.log("props",this.props),r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{title:"Register"}),r.a.createElement(C.a,{hintText:"Enter your First Name",floatingLabelText:"First Name",onChange:function(t,n){return e.setState({first_name:n})}}),r.a.createElement("br",null),r.a.createElement(C.a,{hintText:"Enter your Last Name",floatingLabelText:"Last Name",onChange:function(t,n){return e.setState({last_name:n})}}),r.a.createElement("br",null),r.a.createElement(C.a,{hintText:"Enter your User Id",floatingLabelText:"User Id",onChange:function(t,n){return e.setState({email:n})}}),r.a.createElement("br",null),r.a.createElement(C.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(t,n){return e.setState({password:n})}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"Submit",primary:!0,style:te,onClick:function(t){return e.handleClick(t,e.props.role)}}))))}}]),t}(a.Component),ae={margin:15},re=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=[];return a.push(r.a.createElement("div",{key:"Login-Div"},r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{label:"Register",primary:!0,style:ae,onClick:function(e){return n.handleClick(e)}}))))),n.state={username:"",password:"",loginscreen:[],loginmessage:"",loginButtons:a,isLogin:!0},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=[];e.push(r.a.createElement(ee,{parentContext:this,appContext:this.props.appContext,key:"Loginscreen"}));this.setState({loginscreen:e,loginmessage:"Not registered yet, Register Now"})}},{key:"handleClick",value:function(e){var t,n=this;if(console.log("event"),this.state.isLogin){var a=[];a.push(r.a.createElement(ne,{parentContext:this,appContext:this.props.appContext})),t="Already registered. Go to Login";var l=[];l.push(r.a.createElement("div",{key:"login-button"},r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{label:"Login",primary:!0,style:ae,onClick:function(e){return n.handleClick(e)}}))))),this.setState({loginscreen:a,loginmessage:t,loginButtons:l,isLogin:!1})}else{var i=[],s=[];s.push(r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{label:"Register",primary:!0,style:ae,onClick:function(e){return n.handleClick(e)}}))))),i.push(r.a.createElement(ee,{parentContext:this,appContext:this.props.appContext})),t="Not registered yet. Go to Registration",this.setState({loginscreen:i,loginmessage:t,loginButtons:s,isLogin:!0})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"loginscreen",key:"loginscreen"},this.state.loginscreen,r.a.createElement("div",null,this.state.loginmessage,this.state.loginButtons))}}]),t}(a.Component),le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loginPage:[]},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=[];e.push(r.a.createElement(re,{appContext:this,key:"login-screen"})),this.setState({loginPage:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.loginPage)}}]),t}(a.Component);n(315);i.a.render(r.a.createElement(le,null),document.querySelector("#root")),i.a.render(r.a.createElement(x,null),document.querySelector("#ToDoListRoot"))},56:function(e,t,n){}},[[133,1,2]]]);
//# sourceMappingURL=main.ee721aaf.chunk.js.map